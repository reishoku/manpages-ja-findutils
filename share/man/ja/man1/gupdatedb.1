.\"    This file documents the GNU utilities for finding files that match
.\" certain criteria and performing various operations on them.
.\"
.\"    Copyright (C) 1994 Free Software Foundation, Inc.
.\"
.\"    Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\"    Permission is granted to copy and distribute modified versions of
.\" this manual under the conditions for verbatim copying, provided that
.\" the entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one.
.\"
.\"    Permission is granted to copy and distribute translations of this
.\" manual into another language, under the above conditions for modified
.\" versions, except that this permission notice may be stated in a
.\" translation approved by the Foundation.
.\"
.\" Japanese Version Copyright (c) 1997 NAKANO Takeo all rights reserved.
.\" Translated Thu May 11 1997 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"
.TH UPDATEDB 1L \" -*- nroff -*-
.SH 名前
updatedb \- ファイル名データベースを更新する
.SH 書式
.B updatedb [\fIoptions\fP]
.SH 説明
このマニュアルページは GNU 版
.BR updatedb
について記述したものである。
.BR updatedb
は GNU 版
.BR locate
で用いるファイル名データベースを更新するために用いられる。
ファイル名データベースには、最後に更新された時点において、
特定のディレクトリ以下に存在していたファイルのリスト情報が入っている。
デフォルトのデータベースのファイル名は
\fBlocate\fP と \fBupdatedb\fP が設定・インストールされたときに決定される。
データベースの更新頻度と、
どのディレクトリの内容をデータベースにエントリとして追加するかは
\fBupdatedb\fP を実行させる頻度と実行時の引き数によって決まる。
.PP
ネットワーク環境では、
データベースをそれぞれのファイルシステムのルートに作成し、
そこにそのファイルシステムのエントリを持たせるようにすると良い。
そして各々のファイルシステムにおいては
.B updatedb
を (そのファイルシステムをローカルディスクに持っている) 
ファイルサーバで実行するようにすれば、
ネットワークの余分なトラフィックを防ぐことができる。
ユーザーは \fBlocate\fP に検索させるデータベースを
環境変数やコマンドラインから指定できる
.RB ( locate (1L)
を見よ)。
データベースを結合することはできない。
.PP
ファイル名データベースのフォーマットは GNU 版
.B find
および
.B locate
のバージョン 4.0 から変更され、
バイトオーダーの違うマシン間でもデータベースを共有できるようになった。
新しいバージョンの GNU 版
.B locate
は古いデータベースを読むこともできるが、古いバージョンの
.B locate
や
.B find
に新しい形式のデータベースを読ませると正しくない結果が表示される。
.SH オプション
.TP
.B \-\-localpaths='\fIpath1 path2...\fP'
データベースに取り込むネットワーク以外のディレクトリを指定する。
デフォルトは /。
.TP
.B \-\-netpaths='\fIpath1 path2...\fP'
データベースに取り込むネットワークディレクトリ
(NFS, AFS, RFS 等) を指定する。デフォルトではどこも取り込まない。
.TP
.B \-\-prunepaths='\fIpath1 path2...\fP'
データベースに取り込まないディレクトリを明示的に指定する。
デフォルトは /tmp /usr/tmp /var/tmp /afs。
.TP
.B \-\-output=\fIdbfile\fP
作成するデータベースのファイル名を指定する。
デフォルトはシステムによって異なるが、
通常は /usr/local/var/locatedb のことが多い。
.TP
.B \-\-netuser=\fIuser\fP
ネットワークディレクトリを検索するユーザーを指定する。
\fBsu\fP(1) が利用される。
デフォルトは \fBdaemon\fP。
.TP
.B \-\-old\-format
作成するデータベースの形式として、
現在の形式ではなく古い形式を用いる。
.TP
.B \-\-version
.B updatedb
のバージョンを表示して終了する。
.TP
.I "\-\-help"
.B updatedb
のオプションに関するまとめを表示して終了する。
.SH 関連項目
.BR find (1L),
.BR locate (1L),
.BR locatedb (5L),
.BR xargs (1L)
.br
.B Finding Files
(on-line in Info, or printed)

